/**
 * Created by Robert on 6/26/14.
 */
//$("#box_a").css({left:'-200px'});

function setPlayer(x, y, item) {
    var id = $(item).attr("id");
    $("#" + id + "_xcoord").html(x);
    $("#" + id + "_ycoord").html(y);
    $(item).data("current_pos", {
        x: x,
        y: y
    });
    $(item).data("current_speed", 1000);

    if (id == "ball") {
        $("#move_choice").css({
            "left": x + 8,
            "top": y + 5
        });
        $("#move_choice").show();
    } //if ball

} //fn setPlayer

function setBallSpeed(choice) {
    switch (choice) {
        case "pass_shot":
            //console.log("pass/shot chosen");
            $("#ball").data("current_speed", 500);
            break; //pass/shot

        default:
        case "dribble":
            //console.log("dribble chosen");
            $("#ball").data("current_speed", 1000);
            break; //default, dribble
    } //switch
    $("#move_choice").hide();
} //fn setBallSpeed

function setPlayerCoordTable() {
    $("div.player").each(function (index) {
        var name = $(this).html();
        var id = $(this).attr("id");
        name = name == "#" ? "ball" : name;
        $(this).data("current_pos", {
            x: 0,
            y: 0
        });
        $(this).data("current_speed", 1000);
        $(this).data("playSet", {
            start: {
                x: 0,
                y: 0,
                s: 0
            }
        });
        //$("#player_coords").append("<tr><td>" + name + "</td><td><span id='" + id + "_xcoord'></span></td><td><span id='" + id + "_ycoord'></span></td></tr>");
    }); //each fn
} //setPlayerCoordTable

function setCurrentPos() {
    uniquePlaySetName = String((new Date()).getTime());
    var strLog = "<tr><td>"+String(uniquePlaySetName)+"</td><td>";
    //console.log(strLog);
    //nsole.log("outside" + uniquePlaySetName);
    $("div.player").each(function (index) {
        var player_pos = $(this).data("current_pos");
        var player_speed = $(this).data("current_speed");
        var name = $(this).html();
        var playSetObj = $(this).data("playSet");
        playSetObj[uniquePlaySetName] = {
            x: player_pos.x,
            y: player_pos.y,
            s: player_speed
        };
        strLog = strLog + ""+String(name)+":(x:"+String(player_pos.x)+", y:"+String(player_pos.y)+", s:"+String(player_speed)+")<br/>";
        //console.log(strLog);
        //nsole.log("inside" + uniquePlaySetName);
        $(this).data("playSet", playSetObj);
        //console.log(String(name) + " =  x:" + player_pos.x + " y:" + player_pos.y + " s:" + player_speed);
    }); //each fn
    var playListArr = $("#playList").data("list");
    playListArr.push(uniquePlaySetName);
    $("#playList").data("list", playListArr);
    strLog = strLog + "<hr/></td></tr>";
    $("#setLog").append(strLog);
    //console.log(strLog);
    $("#gamefield").fadeOut("fast").fadeIn("fast");

    //console.log(playListArr);
} //fn setCurrentPos



function move(item, x, y, speed) {
    currentx = $(item).css("left");
    currenty = $(item).css("top");
    left_val = parseInt(x, 10);
    top_val  = parseInt(y, 10);
    console.log("moving:"+String($(item).html()),left_val, top_val,speed);
    $(item).animate({
        'left': left_val,
        'top': top_val
    }, {
        duration: speed,
        complete: function () {
            //alert("done");
        }
    });
} //move


function positionPlayer(item, x, y, speed) {
    var left_val = parseInt(x, 10);
    var top_val = parseInt(y, 10);
    $(item).css({"left":left_val,"top":top_val});
} //positionPlayer

function runSet(idx, isRunOneStep) {
    console.log("Start RunStep: idx="+idx+", isRunOneStep="+isRunOneStep);
    var playListArr = $("#playList").data("list");
    var isPaused = $("#playList").data("isPaused");
    if((!isPaused) || isRunOneStep === true)
    {
        var arrayOfPlayers = new Array();
        $("div.player").each(function (index) {
            arrayOfPlayers.push($(this).attr('id'))
        });

        idx = isNaN(idx) ? 0 : idx;
        idx = idx < 0 ? 0 : idx;
        console.log("executing runSet("+idx+")");
        $("#move_text").html("Move: "+idx);

        // button logic
        checkButtonLogic(idx,playListArr.length);

        if(idx < playListArr.length)
        {
            for (var j = 0; j < arrayOfPlayers.length; j++) {
                var playerId = "#" + arrayOfPlayers[j];
                //console.log("i="+i+"  j="+j+"  playerId="+playerId);
                var currPlayIndex = playListArr[idx];
                var playSetObj = $(playerId).data("playSet");
                var coordsObj = playSetObj[currPlayIndex];
                //console.log(coordsObj);

                if(currPlayIndex == "start")
                {
                    positionPlayer(playerId, coordsObj.x, coordsObj.y, coordsObj.s);
                }
                move(playerId,coordsObj.x,coordsObj.y,coordsObj.s);

            } // j loop players
            var delay = 1000; //(idx)*250;
            idx++;
            $("#playList").data("current_idx",idx);
            setTimeout(function(){runSet(idx)},delay);
        }else{

            console.log("end of runSet");
            $("#move_button").button({icons: {primary: "ui-icon-play"},text:true});
            $("#move_button > span.ui-button-text").html("Play");
            $("#playList").data("isPaused",true);

        }//if-else idx > array length
    }//if isPaused
    else
    {
        console.log("Runset: paused.");
    }//if-else isPaused

} //fn runSet


function checkButtonLogic(idx, arrLength)
{
    if(idx <= 0)
    {
        $("#next_button").button({disabled:false});
        $("#prev_button").button({disabled:true});
    }
    else if(idx >= arrLength)
    {
        $("#next_button").button({disabled:true});
        $("#prev_button").button({disabled:false});
    }
    else
    {
        $("#next_button").button({disabled:false});
        $("#prev_button").button({disabled:false});
    }


}//checkButtonLogic

function dumpPlayList() {
    var playListArr = $("#playList").data("list");
    console.log(playListArr);
    $("div.player").each(function (index) {
        var id = $(this).attr('id');
        var name = $(this).html();
        var playSetObj = $(this).data("playSet");
        console.log(id + " : " + name + "=== >>");
        console.log(playSetObj);
    }); //each

} //fn dumpPlayList


function RecordPlay(){
    if($('#record_button').html() == 'Start Rec')
    {
        setInterval("if($('#record_button').html() != 'Start Rec'){setCurrentPos();}", 10000);
        setTimeout("if($('#record_button').html() != 'Start Rec'){RecButtonAnim(9);}", 1000);
        $('#record_button').html('Rec ON (10 sec)');
    }
    else
    {
        $('#record_button').html('Start Rec');
    }
}//Rec

function RecButtonAnim(num){
    if($("#record_button").html() != 'Start Rec'){
        num--;
        if(num < 0){num=10;}
        $('#record_button').html('Rec ON ('+num+' sec)');
        setTimeout("RecButtonAnim("+num+")", 1000);
    }
}//RecButtonAmin

function SetStartingPositions(obj){
    var x= 0;
    var y =0;
    var s =0;
    var arr=[];

    for(var i in obj)
    {
        arr = obj[i];
        x= arr[0];
        y= arr[1];
        s= arr[2];
        console.log("x="+x+" y="+y+" s="+s);
        setPlayer("#"+String(i),x,y);
        $("#"+String(i)).css({left:x, top:y});
        $("#"+String(i)).data("current_pos", {x:x,y:y,s:1000});
        $("#"+String(i)).data("current_speed", 1000);
        $("#"+String(i)).data("playSet", {
            start: {
                x: x,
                y: y,
                s: s
            }
        });

    }//for

    setCurrentPos();

}//SetStartingPositions

/*
*  loadPlays
*  Takes an object of the following format
*  Obj{ PLAYER1:{set plays}
* */
function loadPlays(obj)
{
    var playListArr = [];
    var singlePlaySet = {};
    for(var i in obj)
    {
       $("#"+i).data("playSet",obj[i]);
        singlePlaySet = obj[i];
    }//for each players and playSets

    for(var j in singlePlaySet )
    {
        playListArr.push(j);
    }//for each item in playset

    $("#playList").data("list",playListArr);
}//loadPlays

/*
*
*
* */
function showSaveDialog(){

    var retObj = new Object();

    $("div.player").each(function (index) {
        var id = $(this).attr('id');
        retObj[id] = $(this).data("playSet");
    }); //each

    var jsonStr = JSON.stringify(retObj);
    $("#save_dialog").html('<form><textarea wrap="hard" cols="10" rows="20">'+jsonStr+'</textarea></form>');
    $("#save_dialog").dialog( "open" );

}//showSaveDialog

function getLoadedPlays(namePlay){

    var retObj={};

    //var defense = ({"box_a":{"start":{"x":310,"y":110,"s":1000},"1404840282657":{"x":310,"y":110,"s":1000},"1404840283981":{"x":310,"y":110,"s":1000},"1404840285828":{"x":279,"y":144,"s":1000},"1404840290379":{"x":279,"y":144,"s":1000},"1404840378930":{"x":149,"y":119,"s":1000},"1404840386458":{"x":158,"y":148,"s":1000},"1404840391235":{"x":158,"y":148,"s":1000},"1404840395450":{"x":158,"y":148,"s":1000},"1404840401250":{"x":158,"y":148,"s":1000},"1404840408314":{"x":158,"y":148,"s":1000},"1404840415901":{"x":158,"y":148,"s":1000},"1404840423938":{"x":115,"y":148,"s":1000},"1404840433361":{"x":207,"y":121,"s":1000},"1404840441594":{"x":207,"y":121,"s":1000},"1404840445722":{"x":108,"y":134,"s":1000}},"box_b":{"start":{"x":313,"y":214,"s":1000},"1404840282657":{"x":313,"y":214,"s":1000},"1404840283981":{"x":313,"y":214,"s":1000},"1404840285828":{"x":313,"y":214,"s":1000},"1404840290379":{"x":254,"y":263,"s":1000},"1404840378930":{"x":167,"y":329,"s":1000},"1404840386458":{"x":167,"y":329,"s":1000},"1404840391235":{"x":94,"y":315,"s":1000},"1404840395450":{"x":94,"y":315,"s":1000},"1404840401250":{"x":94,"y":315,"s":1000},"1404840408314":{"x":94,"y":315,"s":1000},"1404840415901":{"x":114,"y":293,"s":1000},"1404840423938":{"x":114,"y":293,"s":1000},"1404840433361":{"x":159,"y":334,"s":1000},"1404840441594":{"x":159,"y":334,"s":1000},"1404840445722":{"x":159,"y":334,"s":1000}},"box_c":{"start":{"x":167,"y":158,"s":1000},"1404840282657":{"x":167,"y":158,"s":1000},"1404840283981":{"x":167,"y":158,"s":1000},"1404840285828":{"x":167,"y":158,"s":1000},"1404840290379":{"x":167,"y":158,"s":1000},"1404840378930":{"x":133,"y":181,"s":1000},"1404840386458":{"x":133,"y":181,"s":1000},"1404840391235":{"x":133,"y":181,"s":1000},"1404840395450":{"x":163,"y":183,"s":1000},"1404840401250":{"x":163,"y":183,"s":1000},"1404840408314":{"x":158,"y":220,"s":1000},"1404840415901":{"x":158,"y":220,"s":1000},"1404840423938":{"x":166,"y":173,"s":1000},"1404840433361":{"x":166,"y":173,"s":1000},"1404840441594":{"x":194,"y":217,"s":1000},"1404840445722":{"x":194,"y":217,"s":1000}},"box_d":{"start":{"x":384,"y":116,"s":1000},"1404840282657":{"x":384,"y":116,"s":1000},"1404840283981":{"x":384,"y":116,"s":1000},"1404840285828":{"x":384,"y":116,"s":1000},"1404840290379":{"x":384,"y":116,"s":1000},"1404840378930":{"x":179,"y":55,"s":1000},"1404840386458":{"x":179,"y":55,"s":1000},"1404840391235":{"x":179,"y":55,"s":1000},"1404840395450":{"x":179,"y":55,"s":1000},"1404840401250":{"x":179,"y":55,"s":1000},"1404840408314":{"x":179,"y":55,"s":1000},"1404840415901":{"x":179,"y":55,"s":1000},"1404840423938":{"x":120,"y":55,"s":1000},"1404840433361":{"x":241,"y":21,"s":1000},"1404840441594":{"x":241,"y":21,"s":1000},"1404840445722":{"x":124,"y":29,"s":1000}},"box_e":{"start":{"x":406,"y":148,"s":1000},"1404840282657":{"x":406,"y":148,"s":1000},"1404840283981":{"x":406,"y":148,"s":1000},"1404840285828":{"x":406,"y":148,"s":1000},"1404840290379":{"x":406,"y":148,"s":1000},"1404840378930":{"x":259,"y":135,"s":1000},"1404840386458":{"x":259,"y":135,"s":1000},"1404840391235":{"x":259,"y":135,"s":1000},"1404840395450":{"x":259,"y":135,"s":1000},"1404840401250":{"x":259,"y":135,"s":1000},"1404840408314":{"x":230,"y":203,"s":1000},"1404840415901":{"x":230,"y":203,"s":1000},"1404840423938":{"x":237,"y":95,"s":1000},"1404840433361":{"x":237,"y":95,"s":1000},"1404840441594":{"x":285,"y":168,"s":1000},"1404840445722":{"x":285,"y":168,"s":1000}},"box_f":{"start":{"x":379,"y":176,"s":1000},"1404840282657":{"x":379,"y":176,"s":1000},"1404840283981":{"x":379,"y":176,"s":1000},"1404840285828":{"x":379,"y":176,"s":1000},"1404840290379":{"x":379,"y":176,"s":1000},"1404840378930":{"x":191,"y":228,"s":1000},"1404840386458":{"x":191,"y":228,"s":1000},"1404840391235":{"x":133,"y":262,"s":1000},"1404840395450":{"x":133,"y":262,"s":1000},"1404840401250":{"x":133,"y":262,"s":1000},"1404840408314":{"x":133,"y":262,"s":1000},"1404840415901":{"x":136,"y":231,"s":1000},"1404840423938":{"x":136,"y":231,"s":1000},"1404840433361":{"x":198,"y":267,"s":1000},"1404840441594":{"x":198,"y":267,"s":1000},"1404840445722":{"x":198,"y":267,"s":1000}},"ball":{"start":{"x":327,"y":252,"s":500},"1404840282657":{"x":327,"y":252,"s":1000},"1404840283981":{"x":327,"y":252,"s":1000},"1404840285828":{"x":327,"y":252,"s":1000},"1404840290379":{"x":272,"y":305,"s":500},"1404840378930":{"x":254,"y":244,"s":500},"1404840386458":{"x":197,"y":142,"s":500},"1404840391235":{"x":197,"y":142,"s":500},"1404840395450":{"x":197,"y":142,"s":500},"1404840401250":{"x":263,"y":226,"s":500},"1404840408314":{"x":224,"y":294,"s":1000},"1404840415901":{"x":150,"y":340,"s":500},"1404840423938":{"x":150,"y":340,"s":500},"1404840433361":{"x":212,"y":379,"s":1000},"1404840441594":{"x":280,"y":286,"s":500},"1404840445722":{"x":280,"y":286,"s":500}}});
    var defense = ({ "box_a":{"start":{"x":279,"y":144,"s":1000},"1404840378930":{"x":149,"y":119,"s":1000},"1404840386458":{"x":158,"y":148,"s":1000},"1404840391235":{"x":158,"y":148,"s":1000},"1404840395450":{"x":158,"y":148,"s":1000},"1404840401250":{"x":158,"y":148,"s":1000},"1404840408314":{"x":158,"y":148,"s":1000},"1404840415901":{"x":158,"y":148,"s":1000},"1404840423938":{"x":115,"y":148,"s":1000},"1404840433361":{"x":207,"y":121,"s":1000},"1404840441594":{"x":207,"y":121,"s":1000},"1404840445722":{"x":108,"y":134,"s":1000}}, "box_b":{"start":{"x":254,"y":263,"s":1000},"1404840378930":{"x":167,"y":329,"s":1000},"1404840386458":{"x":167,"y":329,"s":1000},"1404840391235":{"x":94,"y":315,"s":1000},"1404840395450":{"x":94,"y":315,"s":1000},"1404840401250":{"x":94,"y":315,"s":1000},"1404840408314":{"x":94,"y":315,"s":1000},"1404840415901":{"x":114,"y":293,"s":1000},"1404840423938":{"x":114,"y":293,"s":1000},"1404840433361":{"x":159,"y":334,"s":1000},"1404840441594":{"x":159,"y":334,"s":1000},"1404840445722":{"x":159,"y":334,"s":1000}}, "box_c":{"start":{"x":167,"y":158,"s":1000},"1404840378930":{"x":133,"y":181,"s":1000},"1404840386458":{"x":133,"y":181,"s":1000},"1404840391235":{"x":133,"y":181,"s":1000},"1404840395450":{"x":163,"y":183,"s":1000},"1404840401250":{"x":163,"y":183,"s":1000},"1404840408314":{"x":158,"y":220,"s":1000},"1404840415901":{"x":158,"y":220,"s":1000},"1404840423938":{"x":166,"y":173,"s":1000},"1404840433361":{"x":166,"y":173,"s":1000},"1404840441594":{"x":194,"y":217,"s":1000},"1404840445722":{"x":194,"y":217,"s":1000}}, "box_d":{"start":{"x":384,"y":116,"s":1000},"1404840378930":{"x":179,"y":55,"s":1000},"1404840386458":{"x":179,"y":55,"s":1000},"1404840391235":{"x":179,"y":55,"s":1000},"1404840395450":{"x":179,"y":55,"s":1000},"1404840401250":{"x":179,"y":55,"s":1000},"1404840408314":{"x":179,"y":55,"s":1000},"1404840415901":{"x":179,"y":55,"s":1000},"1404840423938":{"x":120,"y":55,"s":1000},"1404840433361":{"x":241,"y":21,"s":1000},"1404840441594":{"x":241,"y":21,"s":1000},"1404840445722":{"x":124,"y":29,"s":1000}}, "box_e":{"start":{"x":406,"y":148,"s":1000},"1404840378930":{"x":259,"y":135,"s":1000},"1404840386458":{"x":259,"y":135,"s":1000},"1404840391235":{"x":259,"y":135,"s":1000},"1404840395450":{"x":259,"y":135,"s":1000},"1404840401250":{"x":259,"y":135,"s":1000},"1404840408314":{"x":230,"y":203,"s":1000},"1404840415901":{"x":230,"y":203,"s":1000},"1404840423938":{"x":237,"y":95,"s":1000},"1404840433361":{"x":237,"y":95,"s":1000},"1404840441594":{"x":285,"y":168,"s":1000},"1404840445722":{"x":285,"y":168,"s":1000}}, "box_f":{"start":{"x":379,"y":176,"s":1000},"1404840378930":{"x":191,"y":228,"s":1000},"1404840386458":{"x":191,"y":228,"s":1000},"1404840391235":{"x":133,"y":262,"s":1000},"1404840395450":{"x":133,"y":262,"s":1000},"1404840401250":{"x":133,"y":262,"s":1000},"1404840408314":{"x":133,"y":262,"s":1000},"1404840415901":{"x":136,"y":231,"s":1000},"1404840423938":{"x":136,"y":231,"s":1000},"1404840433361":{"x":198,"y":267,"s":1000},"1404840441594":{"x":198,"y":267,"s":1000},"1404840445722":{"x":198,"y":267,"s":1000}}, "ball":{"start":{"x":272,"y":305,"s":500},"1404840378930":{"x":254,"y":244,"s":500},"1404840386458":{"x":197,"y":142,"s":500},"1404840391235":{"x":197,"y":142,"s":500},"1404840395450":{"x":197,"y":142,"s":500},"1404840401250":{"x":263,"y":226,"s":500},"1404840408314":{"x":224,"y":294,"s":1000},"1404840415901":{"x":150,"y":340,"s":500},"1404840423938":{"x":150,"y":340,"s":500},"1404840433361":{"x":212,"y":379,"s":1000},"1404840441594":{"x":280,"y":286,"s":500},"1404840445722":{"x":280,"y":286,"s":500}}});
    //var goal_kick = ({"box_a":{"start":{"x":310,"y":110,"s":1000},"1404841153091":{"x":310,"y":110,"s":1000},"1404841190375":{"x":408,"y":268,"s":1000},"1404841210009":{"x":408,"y":268,"s":1000},"1404841219398":{"x":408,"y":268,"s":1000},"1404841228632":{"x":448,"y":329,"s":1000},"1404841234189":{"x":459,"y":319,"s":1000},"1404841239840":{"x":459,"y":319,"s":1000}},"box_b":{"start":{"x":313,"y":214,"s":1000},"1404841153091":{"x":313,"y":214,"s":1000},"1404841190375":{"x":41,"y":327,"s":1000},"1404841210009":{"x":41,"y":327,"s":1000},"1404841219398":{"x":41,"y":327,"s":1000},"1404841228632":{"x":41,"y":327,"s":1000},"1404841234189":{"x":182,"y":251,"s":1000},"1404841239840":{"x":182,"y":251,"s":1000}},"box_c":{"start":{"x":167,"y":158,"s":1000},"1404841153091":{"x":167,"y":158,"s":1000},"1404841190375":{"x":207,"y":343,"s":1000},"1404841210009":{"x":158,"y":346,"s":1000},"1404841219398":{"x":195,"y":353,"s":1000},"1404841228632":{"x":195,"y":353,"s":1000},"1404841234189":{"x":195,"y":353,"s":1000},"1404841239840":{"x":195,"y":353,"s":1000}},"box_d":{"start":{"x":384,"y":116,"s":1000},"1404841153091":{"x":384,"y":116,"s":1000},"1404841190375":{"x":236,"y":194,"s":1000},"1404841210009":{"x":236,"y":194,"s":1000},"1404841219398":{"x":236,"y":194,"s":1000},"1404841228632":{"x":236,"y":194,"s":1000},"1404841234189":{"x":236,"y":194,"s":1000},"1404841239840":{"x":236,"y":194,"s":1000}},"box_e":{"start":{"x":406,"y":148,"s":1000},"1404841153091":{"x":406,"y":148,"s":1000},"1404841190375":{"x":427,"y":165,"s":1000},"1404841210009":{"x":427,"y":165,"s":1000},"1404841219398":{"x":427,"y":165,"s":1000},"1404841228632":{"x":433,"y":219,"s":1000},"1404841234189":{"x":433,"y":219,"s":1000},"1404841239840":{"x":433,"y":219,"s":1000}},"box_f":{"start":{"x":379,"y":176,"s":1000},"1404841153091":{"x":379,"y":176,"s":1000},"1404841190375":{"x":218,"y":260,"s":1000},"1404841210009":{"x":179,"y":263,"s":1000},"1404841219398":{"x":191,"y":266,"s":1000},"1404841228632":{"x":191,"y":266,"s":1000},"1404841234189":{"x":191,"y":266,"s":1000},"1404841239840":{"x":191,"y":266,"s":1000}},"ball":{"start":{"x":327,"y":252,"s":500},"1404841153091":{"x":327,"y":252,"s":1000},"1404841190375":{"x":57,"y":364,"s":500},"1404841210009":{"x":164,"y":416,"s":500},"1404841219398":{"x":212,"y":415,"s":1000},"1404841228632":{"x":467,"y":346,"s":500},"1404841234189":{"x":467,"y":346,"s":500},"1404841239840":{"x":604,"y":251,"s":500}}});
    //var goal_kick = ({"box_a":{"start":{"x":408,"y":268,"s":1000},"1404841210009":{"x":408,"y":268,"s":1000},"1404841219398":{"x":408,"y":268,"s":1000},"1404841228632":{"x":448,"y":329,"s":1000},"1404841234189":{"x":459,"y":319,"s":1000},"1404841239840":{"x":459,"y":319,"s":1000}},"box_b":{"start":{"x":41,"y":327,"s":1000},"1404841210009":{"x":41,"y":327,"s":1000},"1404841219398":{"x":41,"y":327,"s":1000},"1404841228632":{"x":41,"y":327,"s":1000},"1404841234189":{"x":182,"y":251,"s":1000},"1404841239840":{"x":182,"y":251,"s":1000}},"box_c":{"start":{"x":207,"y":343,"s":1000},"1404841210009":{"x":158,"y":346,"s":1000},"1404841219398":{"x":195,"y":353,"s":1000},"1404841228632":{"x":195,"y":353,"s":1000},"1404841234189":{"x":195,"y":353,"s":1000},"1404841239840":{"x":195,"y":353,"s":1000}},"box_d":{"start":{"x":236,"y":194,"s":1000},"1404841210009":{"x":236,"y":194,"s":1000},"1404841219398":{"x":236,"y":194,"s":1000},"1404841228632":{"x":236,"y":194,"s":1000},"1404841234189":{"x":236,"y":194,"s":1000},"1404841239840":{"x":236,"y":194,"s":1000}},"box_e":{"start":{"x":427,"y":165,"s":1000},"1404841210009":{"x":427,"y":165,"s":1000},"1404841219398":{"x":427,"y":165,"s":1000},"1404841228632":{"x":433,"y":219,"s":1000},"1404841234189":{"x":433,"y":219,"s":1000},"1404841239840":{"x":433,"y":219,"s":1000}},"box_f":{"start":{"x":218,"y":260,"s":1000},"1404841210009":{"x":179,"y":263,"s":1000},"1404841219398":{"x":191,"y":266,"s":1000},"1404841228632":{"x":191,"y":266,"s":1000},"1404841234189":{"x":191,"y":266,"s":1000},"1404841239840":{"x":191,"y":266,"s":1000}},"ball":{"start":{"x":57,"y":364,"s":500},"1404841210009":{"x":164,"y":416,"s":500},"1404841219398":{"x":212,"y":415,"s":1000},"1404841228632":{"x":467,"y":346,"s":500},"1404841234189":{"x":467,"y":346,"s":500},"1404841239840":{"x":604,"y":251,"s":500}}});
    var goal_kick = {"box_a":{"start":{"x":42,"y":318,"s":1000},"1437351503606":{"x":42,"y":318,"s":1000},"1437351509549":{"x":42,"y":318,"s":1000},"1437351543930":{"x":102,"y":310,"s":1000},"1437351553722":{"x":102,"y":310,"s":1000},"1437351568480":{"x":102,"y":310,"s":1000},"1437351579362":{"x":189,"y":258,"s":1000},"1437351595606":{"x":189,"y":258,"s":1000},"1437351604535":{"x":189,"y":258,"s":1000}},"box_b":{"start":{"x":61,"y":365,"s":1000},"1437351503606":{"x":61,"y":365,"s":1000},"1437351509549":{"x":61,"y":365,"s":1000},"1437351543930":{"x":247,"y":361,"s":1000},"1437351553722":{"x":247,"y":361,"s":1000},"1437351568480":{"x":410,"y":349,"s":1000},"1437351579362":{"x":410,"y":349,"s":1000},"1437351595606":{"x":410,"y":349,"s":1000},"1437351604535":{"x":410,"y":349,"s":1000}},"box_c":{"start":{"x":296,"y":42,"s":1000},"1437351503606":{"x":296,"y":42,"s":1000},"1437351509549":{"x":296,"y":42,"s":1000},"1437351543930":{"x":296,"y":42,"s":1000},"1437351553722":{"x":296,"y":42,"s":1000},"1437351568480":{"x":296,"y":42,"s":1000},"1437351579362":{"x":296,"y":42,"s":1000},"1437351595606":{"x":466,"y":97,"s":1000},"1437351604535":{"x":466,"y":97,"s":1000}},"box_d":{"start":{"x":123,"y":307,"s":1000},"1437351503606":{"x":123,"y":307,"s":1000},"1437351509549":{"x":95,"y":308,"s":1000},"1437351543930":{"x":91,"y":281,"s":1000},"1437351553722":{"x":91,"y":281,"s":1000},"1437351568480":{"x":91,"y":281,"s":1000},"1437351579362":{"x":313,"y":203,"s":1000},"1437351595606":{"x":313,"y":203,"s":1000},"1437351604535":{"x":313,"y":203,"s":1000}},"box_e":{"start":{"x":502,"y":133,"s":1000},"1437351503606":{"x":502,"y":133,"s":1000},"1437351509549":{"x":502,"y":133,"s":1000},"1437351543930":{"x":502,"y":133,"s":1000},"1437351553722":{"x":502,"y":133,"s":1000},"1437351568480":{"x":455,"y":226,"s":1000},"1437351579362":{"x":455,"y":226,"s":1000},"1437351595606":{"x":470,"y":218,"s":1000},"1437351604535":{"x":470,"y":218,"s":1000}},"box_f":{"start":{"x":348,"y":-11,"s":1000},"1437351503606":{"x":348,"y":-11,"s":1000},"1437351509549":{"x":348,"y":-11,"s":1000},"1437351543930":{"x":348,"y":-11,"s":1000},"1437351553722":{"x":348,"y":-11,"s":1000},"1437351568480":{"x":348,"y":-11,"s":1000},"1437351579362":{"x":348,"y":-11,"s":1000},"1437351595606":{"x":348,"y":-11,"s":1000},"1437351604535":{"x":436,"y":20,"s":1000}},"ball":{"start":{"x":55,"y":338,"s":500},"1437351503606":{"x":66,"y":379,"s":500},"1437351509549":{"x":66,"y":379,"s":500},"1437351543930":{"x":125,"y":318,"s":1000},"1437351553722":{"x":258,"y":372,"s":500},"1437351568480":{"x":431,"y":366,"s":1000},"1437351579362":{"x":431,"y":366,"s":1000},"1437351595606":{"x":471,"y":169,"s":500},"1437351604535":{"x":586,"y":238,"s":500}}};

    //var start = {"box_a":{"start":{"x":310,"y":110,"s":1000},"1404841422000":{"x":310,"y":110,"s":1000},"1404841440454":{"x":317,"y":203,"s":1000},"1404841455457":{"x":430,"y":166,"s":1000},"1404841474199":{"x":430,"y":166,"s":1000},"1404841488119":{"x":400,"y":117,"s":1000},"1404841501304":{"x":400,"y":117,"s":1000},"1404841521359":{"x":400,"y":117,"s":1000}},"box_b":{"start":{"x":313,"y":214,"s":1000},"1404841422000":{"x":313,"y":214,"s":1000},"1404841440454":{"x":319,"y":237,"s":1000},"1404841455457":{"x":324,"y":277,"s":1000},"1404841474199":{"x":324,"y":277,"s":1000},"1404841488119":{"x":324,"y":277,"s":1000},"1404841501304":{"x":431,"y":248,"s":1000},"1404841521359":{"x":431,"y":248,"s":1000}},"box_c":{"start":{"x":167,"y":158,"s":1000},"1404841422000":{"x":167,"y":158,"s":1000},"1404841440454":{"x":184,"y":191,"s":1000},"1404841455457":{"x":184,"y":191,"s":1000},"1404841474199":{"x":209,"y":186,"s":1000},"1404841488119":{"x":209,"y":186,"s":1000},"1404841501304":{"x":209,"y":186,"s":1000},"1404841521359":{"x":209,"y":186,"s":1000}},"box_d":{"start":{"x":384,"y":116,"s":1000},"1404841422000":{"x":384,"y":116,"s":1000},"1404841440454":{"x":377,"y":104,"s":1000},"1404841455457":{"x":398,"y":105,"s":1000},"1404841474199":{"x":398,"y":105,"s":1000},"1404841488119":{"x":398,"y":105,"s":1000},"1404841501304":{"x":439,"y":58,"s":1000},"1404841521359":{"x":439,"y":58,"s":1000}},"box_e":{"start":{"x":406,"y":148,"s":1000},"1404841422000":{"x":406,"y":148,"s":1000},"1404841440454":{"x":409,"y":152,"s":1000},"1404841455457":{"x":409,"y":152,"s":1000},"1404841474199":{"x":295,"y":133,"s":1000},"1404841488119":{"x":295,"y":133,"s":1000},"1404841501304":{"x":295,"y":133,"s":1000},"1404841521359":{"x":295,"y":133,"s":1000}},"box_f":{"start":{"x":379,"y":176,"s":1000},"1404841422000":{"x":379,"y":176,"s":1000},"1404841440454":{"x":377,"y":187,"s":1000},"1404841455457":{"x":377,"y":187,"s":1000},"1404841474199":{"x":377,"y":187,"s":1000},"1404841488119":{"x":377,"y":187,"s":1000},"1404841501304":{"x":416,"y":188,"s":1000},"1404841521359":{"x":441,"y":179,"s":1000}},"ball":{"start":{"x":327,"y":252,"s":500},"1404841422000":{"x":327,"y":252,"s":1000},"1404841440454":{"x":327,"y":252,"s":1000},"1404841455457":{"x":199,"y":251,"s":500},"1404841474199":{"x":225,"y":245,"s":1000},"1404841488119":{"x":408,"y":135,"s":500},"1404841501304":{"x":451,"y":272,"s":500},"1404841521359":{"x":607,"y":242,"s":500}}};
    var start = {"box_a":{"start":{"x":310,"y":110,"s":1000},"1437351025745":{"x":320,"y":101,"s":1000},"1437351038030":{"x":320,"y":101,"s":1000},"1437351063115":{"x":320,"y":101,"s":1000},"1437351071891":{"x":320,"y":101,"s":1000},"1437351095127":{"x":320,"y":101,"s":1000},"1437351110935":{"x":320,"y":101,"s":1000},"1437351118487":{"x":333,"y":108,"s":1000},"1437351133639":{"x":392,"y":124,"s":1000},"1437351144706":{"x":392,"y":124,"s":1000}},"box_b":{"start":{"x":313,"y":214,"s":1000},"1437351025745":{"x":313,"y":214,"s":1000},"1437351038030":{"x":324,"y":364,"s":1000},"1437351063115":{"x":324,"y":364,"s":1000},"1437351071891":{"x":296,"y":351,"s":1000},"1437351095127":{"x":375,"y":349,"s":1000},"1437351110935":{"x":375,"y":349,"s":1000},"1437351118487":{"x":375,"y":349,"s":1000},"1437351133639":{"x":375,"y":349,"s":1000},"1437351144706":{"x":375,"y":349,"s":1000}},"box_c":{"start":{"x":167,"y":158,"s":1000},"1437351025745":{"x":167,"y":158,"s":1000},"1437351038030":{"x":167,"y":158,"s":1000},"1437351063115":{"x":167,"y":158,"s":1000},"1437351071891":{"x":167,"y":158,"s":1000},"1437351095127":{"x":167,"y":158,"s":1000},"1437351110935":{"x":241,"y":196,"s":1000},"1437351118487":{"x":241,"y":196,"s":1000},"1437351133639":{"x":241,"y":196,"s":1000},"1437351144706":{"x":241,"y":196,"s":1000}},"box_d":{"start":{"x":384,"y":116,"s":1000},"1437351025745":{"x":396,"y":87,"s":1000},"1437351038030":{"x":396,"y":87,"s":1000},"1437351063115":{"x":396,"y":87,"s":1000},"1437351071891":{"x":396,"y":87,"s":1000},"1437351095127":{"x":396,"y":87,"s":1000},"1437351110935":{"x":327,"y":176,"s":1000},"1437351118487":{"x":327,"y":176,"s":1000},"1437351133639":{"x":327,"y":176,"s":1000},"1437351144706":{"x":327,"y":176,"s":1000}},"box_e":{"start":{"x":406,"y":148,"s":1000},"1437351025745":{"x":476,"y":133,"s":1000},"1437351038030":{"x":476,"y":133,"s":1000},"1437351063115":{"x":476,"y":133,"s":1000},"1437351071891":{"x":476,"y":133,"s":1000},"1437351095127":{"x":481,"y":184,"s":1000},"1437351110935":{"x":481,"y":184,"s":1000},"1437351118487":{"x":481,"y":184,"s":1000},"1437351133639":{"x":479,"y":148,"s":1000},"1437351144706":{"x":479,"y":148,"s":1000}},"box_f":{"start":{"x":379,"y":176,"s":1000},"1437351025745":{"x":396,"y":143,"s":1000},"1437351038030":{"x":396,"y":143,"s":1000},"1437351063115":{"x":252,"y":101,"s":1000},"1437351071891":{"x":252,"y":101,"s":1000},"1437351095127":{"x":432,"y":192,"s":1000},"1437351110935":{"x":432,"y":192,"s":1000},"1437351118487":{"x":432,"y":192,"s":1000},"1437351133639":{"x":432,"y":192,"s":1000},"1437351144706":{"x":432,"y":192,"s":1000}},"ball":{"start":{"x":327,"y":252,"s":1000},"1437351025745":{"x":327,"y":252,"s":1000},"1437351038030":{"x":190,"y":210,"s":500},"1437351063115":{"x":190,"y":210,"s":500},"1437351071891":{"x":294,"y":364,"s":500},"1437351095127":{"x":396,"y":367,"s":1000},"1437351110935":{"x":262,"y":259,"s":500},"1437351118487":{"x":355,"y":118,"s":500},"1437351133639":{"x":414,"y":142,"s":1000},"1437351144706":{"x":599,"y":233,"s":500}}};
    var new_goal_kick = {"box_a":{"start":{"x":394,"y":388,"s":1000},"1404957292078":{"x":362,"y":393,"s":1000},"1404957310182":{"x":326,"y":394,"s":1000},"1404957321126":{"x":390,"y":370,"s":1000},"1404957333646":{"x":422,"y":354,"s":1000},"1404957338993":{"x":422,"y":354,"s":1000}},"box_b":{"start":{"x":67,"y":384,"s":1000},"1404957292078":{"x":67,"y":384,"s":1000},"1404957310182":{"x":97,"y":382,"s":1000},"1404957321126":{"x":97,"y":382,"s":1000},"1404957333646":{"x":97,"y":382,"s":1000},"1404957338993":{"x":97,"y":382,"s":1000}},"box_c":{"start":{"x":36,"y":264,"s":1000},"1404957292078":{"x":67,"y":272,"s":1000},"1404957310182":{"x":105,"y":264,"s":1000},"1404957321126":{"x":105,"y":264,"s":1000},"1404957333646":{"x":105,"y":264,"s":1000},"1404957338993":{"x":105,"y":264,"s":1000}},"box_d":{"start":{"x":122,"y":303,"s":1000},"1404957292078":{"x":95,"y":315,"s":1000},"1404957310182":{"x":106,"y":315,"s":1000},"1404957321126":{"x":106,"y":315,"s":1000},"1404957333646":{"x":106,"y":315,"s":1000},"1404957338993":{"x":106,"y":315,"s":1000}},"box_e":{"start":{"x":347,"y":248,"s":1000},"1404957292078":{"x":285,"y":260,"s":1000},"1404957310182":{"x":266,"y":257,"s":1000},"1404957321126":{"x":333,"y":255,"s":1000},"1404957333646":{"x":402,"y":245,"s":1000},"1404957338993":{"x":402,"y":245,"s":1000}},"box_f":{"start":{"x":221,"y":198,"s":1000},"1404957292078":{"x":167,"y":195,"s":1000},"1404957310182":{"x":167,"y":195,"s":1000},"1404957321126":{"x":167,"y":195,"s":1000},"1404957333646":{"x":167,"y":195,"s":1000},"1404957338993":{"x":167,"y":195,"s":1000}},"ball":{"start":{"x":59,"y":325,"s":500},"1404957292078":{"x":73,"y":396,"s":500},"1404957310182":{"x":115,"y":417,"s":1000},"1404957321126":{"x":413,"y":381,"s":500},"1404957333646":{"x":439,"y":364,"s":1000},"1404957338993":{"x":604,"y":237,"s":500}}};
    switch(namePlay){
        case "defense":
            retObj = defense;
            break;

        case "goal_kick":
            retObj = goal_kick;
            break;

        case "new_goal_kick":
            retObj = new_goal_kick;
            break;

        case "start":
        default:
            retObj = start;
            break;
    }//switch

    return retObj;

}//tempLoadPlays

function play()
{
    var curr_idx = $("#playList").data("current_idx");
    curr_idx = curr_idx <= 0 ? 0 : curr_idx--;
    console.log("clicked move button");
    var moveButtonText = $("#move_button > span.ui-button-text").html();
    console.log(String(moveButtonText).toLowerCase());
    if(String(moveButtonText).toLowerCase() == "play")
    {
        console.log("clicked 'play'");
        $("#playList").data("isPaused",false);
        var playListArr = $("#playList").data("list");
        curr_idx = playListArr.length <=  curr_idx ? 0 : curr_idx;

        runSet(curr_idx);
        $("#move_button").button({icons: {primary: "ui-icon-pause"},text:true});
        $("#move_button > span.ui-button-text").html("Pause");
    }
    else
    {
        console.log("clicked 'pause'");
        $("#move_button").button({icons: {primary: "ui-icon-play"},text:true});
        $("#move_button > span.ui-button-text").html("Play");
        $("#playList").data("isPaused",true);
    }

}